<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="favicon.ico" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <title>Hayley testing</title>
    <!-- Embedding chatbot by using bundle JS -->
    <link href="static/css/hayley.css" rel="stylesheet" />
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div style="font-size: 24px; font-family: 'Roboto', sans-serif">
      This is the empty site for testing Hayley embedding. Please look at the
      right bottom corner of the page.
    </div>
    <!-- Embedding chatbot by using iframe -->
    <!-- <script type="text/javascript">
      // create iframe element
      const hayleyIframe = document.createElement("iframe");

      // set the source of the iframe
      hayleyIframe.src = "https://hayley-testing.netlify.app";

      // set the style of the iframe
      hayleyIframe.style.position = "absolute";
      hayleyIframe.style.bottom = "16px";
      hayleyIframe.style.right = "16px";
      hayleyIframe.style.zIndex = "9999";

      // append the iframe to the document body
      document.body.appendChild(hayleyIframe);

      // add a load event listener to the iframe
      // hayleyIframe.addEventListener("load", function () {
      //   hayleyIframe.style.height =
      //     hayleyIframe.contentWindow.document.body.scrollHeight + "px";
      //   hayleyIframe.style.width =
      //     hayleyIframe.contentWindow.document.body.scrollWidth + "px";

      //   // observe changes to the iframe content size
      //   var observer = new MutationObserver(() => {
      //     hayleyIframe.style.height =
      //       hayleyIframe.contentWindow.document.body.scrollHeight + "px";
      //     hayleyIframe.style.width =
      //       hayleyIframe.contentWindow.document.body.scrollWidth + "px";
      //   });

      //   observer.observe(iframe.contentWindow.document.body, {
      //     attributes: true,
      //     childList: true,
      //     subtree: true,
      //   });
      // });

      // passing data to iframe
      hayleyIframe.contentWindow.postMessage(
        { property_id: "1528252253585581240" },
        "*"
      );
    </script> -->

    <!-- Embedding chatbot by using bundle JS -->
    <script type="text/javascript">
      // create new div element with id "hayley-area"
      const hayleyArea = document.createElement("div");
      hayleyArea.id = "hayley-area";

      // set the style of the iframe
      hayleyArea.style.position = "fixed";
      hayleyArea.style.bottom = "16px";
      hayleyArea.style.right = "16px";
      hayleyArea.style.zIndex = "9999";

      // insert newDiv into the document's body element
      document.body.appendChild(hayleyArea);
      var property_id = "1528252253585581240";
    </script>
    <script defer="defer" src="static/js/hayley.js"></script>
  </body>
</html>
